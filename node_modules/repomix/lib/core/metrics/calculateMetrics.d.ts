import type { RepomixConfigMerged } from '../../config/configSchema.js';
import { type TaskRunner } from '../../shared/processConcurrency.js';
import type { RepomixProgressCallback } from '../../shared/types.js';
import type { ProcessedFile } from '../file/fileTypes.js';
import type { GitDiffResult } from '../git/gitDiffHandle.js';
import type { GitLogResult } from '../git/gitLogHandle.js';
import type { TokenCountTask } from './workers/calculateMetricsWorker.js';
export interface CalculateMetricsResult {
    totalFiles: number;
    totalCharacters: number;
    totalTokens: number;
    fileCharCounts: Record<string, number>;
    fileTokenCounts: Record<string, number>;
    gitDiffTokenCount: number;
    gitLogTokenCount: number;
}
export declare const calculateMetrics: (processedFiles: ProcessedFile[], output: string | string[], progressCallback: RepomixProgressCallback, config: RepomixConfigMerged, gitDiffResult: GitDiffResult | undefined, gitLogResult: GitLogResult | undefined, deps?: {
    calculateSelectiveFileMetrics: (processedFiles: ProcessedFile[], targetFilePaths: string[], tokenCounterEncoding: import("tiktoken").TiktokenEncoding, progressCallback: RepomixProgressCallback, deps: {
        taskRunner: TaskRunner<TokenCountTask, number>;
    }) => Promise<import("./workers/types.js").FileMetrics[]>;
    calculateOutputMetrics: (content: string, encoding: import("tiktoken").TiktokenEncoding, path: string | undefined, deps: {
        taskRunner: TaskRunner<TokenCountTask, number>;
    }) => Promise<number>;
    calculateGitDiffMetrics: (config: RepomixConfigMerged, gitDiffResult: GitDiffResult | undefined, deps: {
        taskRunner: TaskRunner<TokenCountTask, number>;
    }) => Promise<number>;
    calculateGitLogMetrics: (config: RepomixConfigMerged, gitLogResult: GitLogResult | undefined, deps: {
        taskRunner: TaskRunner<TokenCountTask, number>;
    }) => Promise<{
        gitLogTokenCount: number;
    }>;
    taskRunner: TaskRunner<TokenCountTask, number> | undefined;
}) => Promise<CalculateMetricsResult>;
//# sourceMappingURL=calculateMetrics.d.ts.map